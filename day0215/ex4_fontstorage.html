<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Gamja+Flower&family=Jua&family=Lobster&family=Nanum+Pen+Script&family=Single+Day&display=swap" rel="stylesheet">
    <style>

    </style>
    <script>
        let r;//전역변수 선언(어디서든 쓸수있음)
        window.onload=function(){
            r=document.getElementById("result");//위에서 let r 해서 여기선 let 안붙임(붙이면 위에서 null값 나옴)
            //초기세팅값 불러오기
            init_setting();
            //버튼이벤트
            document.getElementById("btnresult").onclick=function(){
                let hobby=document.getElementsByName("hobby");
                let result="";//초기값?
                for(let h of hobby){ //체크박스 하나하나가 h로 넘어옴
                    if(h.checked){
                        result+=h.value+"&nbsp";//+= 해야만 체크박스 하나 적용, 함수다시돌고 체크박스 하나 더 적용 하면서 쌓임
                    }
                }
                if(result==""){//선택이 안되면 초기값
                    r.innerText="저는 취미가 없습니다.";
                }else{
                    r.innerHTML=
                    `저의 취미는 ${result} 입니다`
                }

                //글자색 적용
                let tcolor=document.getElementById("fontcolor").value;
                r.style.color=tcolor;

                //배경색
                let bcolor=document.getElementById("backcolor").value;
                r.style.backgroundColor=bcolor;

                //글꼴 적용
                let font=document.getElementById("selfont").value;
                r.style.fontFamily=font;

                //로컬 스토리지에 폰트 속성 저장하기
                localStorage.fontcolor=tcolor;
                localStorage.backcolor=bcolor;
                localStorage.fontname=font;

                
            }
        }

        function init_setting(){
                let tcolor=localStorage.fontcolor;
                let bcolor=localStorage.backcolor;
                let font=localStorage.fontname;

                //초기값 지정
                document.getElementById("fontcolor").value=tcolor;
                document.getElementById("backcolor").value=bcolor;
                document.getElementById("selfont").value=font;

                //result 문자에도 적용하기
                r.style.color=tcolor;
                r.style.backgroundColor=bcolor;
                r.style.fontFamily=font;
        }
    </script>
</head>

<body>
    <h2 class="alert alert-danger">폰트 환경설정 스토리지에 저장하기</h2>
    <img src="../image/mainImage/K-036.png" width="100" class="rounded-circle">

    <img src="../image/mainImage/K-040.png" width="100" class="img-thumbnail">

    <table class="table table-bordered" style="width: 300px;">
        <caption align="top"><b>폰트 설정</b></caption>
        <tr>
            <th with="100" style="background-color: lightgray;">글자색</th>
            <td>
                <input type="color" id="fontcolor">
            </td>
        </tr>
        <tr>
            <th with="100" style="background-color: lightgray">배경색</th>
            <td>
                <input type="color" id="backcolor" value="#ffffff">
            </td>
        </tr>
        <tr>
            <th with="100" style="background-color: lightgray">글꼴</th>
            <td>
                <select id="selfont" class="form-select">
                    <option>Jua</option>
                    <option>Gamja Flower</option>
                    <option>Nanum Pen Script</option>
                    <option>Single Day</option>
                </select>
            </td>
        </tr>
        <tr>
            <th with="100" style="background-color: lightgray">취미</th>
            <td>
            <label style="width:80px"><input type="checkbox" name="hobby" value="게임">게임</label>
            <label style="width:80px"><input type="checkbox" name="hobby" value="여행">여행</label>
            <br>
            <label style="width:80px"><input type="checkbox" name="hobby" value="영화감상">영화감상</label>
            <label style="width:80px"><input type="checkbox" name="hobby" value="낚시">낚시</label>
            </td>
        </tr>
        <tr>
            <td colspan="2" align="center">
                <button type="button" id="btnresult" class="btn btn-success">적용하기</button>
            </td>
        </tr>
        <tr height="70" valign="middle">
            <td colspan="2" align="center">
                <div id="result">결과 나오는곳</div>
            </td>
        </tr>
    </table>
</body>

</html>